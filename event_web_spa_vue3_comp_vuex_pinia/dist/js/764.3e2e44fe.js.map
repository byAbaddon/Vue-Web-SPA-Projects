{"version":3,"file":"js/764.3e2e44fe.js","mappings":"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","sources":["webpack://event_web_spa_vue3_comp_pinia/./src/views/LoginView.vue","webpack://event_web_spa_vue3_comp_pinia/./src/service/getUserProfileData.js","webpack://event_web_spa_vue3_comp_pinia/./src/service/login.js","webpack://event_web_spa_vue3_comp_pinia/./src/views/LoginView.vue?5755"],"sourcesContent":["<template >\n  <div class=\"login\" style=\"background: linear-gradient(#c0d9ff, #ffffffc9)\">\n    <div class=\"text-center pt-2\">\n      <h1>You are on one step of awesome events!</h1>\n      <h3 class=\"\">\n        Don't have account? Then just\n        <v-btn\n          variant=\"text\"\n          to=\"/register\"\n          class=\"text-red text-decoration-underline pr-1\"\n        >\n          Sign-Up!</v-btn\n        >\n      </h3>\n    </div>\n\n    <v-card class=\"mx-auto\" max-width=\"340\">\n      <v-card-title class=\"d-flex justify-center bg-blue-lighten-1\">\n        <span class=\"text-white font-weight-bold\">SING-IN</span>\n      </v-card-title>\n\n      <v-img\n        src=\"@/assets/images/loginEventPic.jpg\"\n        lazy-src=\"@/assets/images/graduation-edit.png\"\n        cover\n      ></v-img>\n\n      <v-form class=\"bg-blue-lighten-3\">\n        <!-- email   -->\n        <v-text-field\n          style=\"height: 100px\"\n          class=\"my-0 pa-5 py-5\"\n          prepend-inner-icon=\"mdi-email mr-3 mt-1\"\n          append-icon=\"mdi-blank\"\n          v-model=\"email\"\n          :rules=\"emailRules\"\n          label=\"E-mail\"\n          type=\"email\"\n          required\n          clearable\n          variant=\"underlined\"\n        >\n          <!-- <v-icon large  color=\"blue-darken-1 mr-2\">   mdi-email</v-icon> -->\n        </v-text-field>\n\n        <!-- password   -->\n        <v-text-field\n          style=\"height: 100px\"\n          class=\"mx-5\"\n          prepend-inner-icon=\"mdi-lock mr-3\"\n          clearable\n          label=\"Password\"\n          v-model=\"pass\"\n          :rules=\"passRules\"\n          :counter=\"6\"\n          required\n          variant=\"underlined\"\n          :append-icon=\"showPass ? 'mdi-eye ' : 'mdi-eye-off'\"\n          :type=\"showPass ? 'text' : 'password'\"\n          @click:append=\"showPass = !showPass\"\n        ></v-text-field>\n\n        <!-- btnLogin   -->\n        <div class=\"text-center mb-12 pb-12\">\n          <v-btn\n            class=\"bg-blue white--text\"\n            :disabled=\"showProgressCircular\"\n            elevation=\"8\"\n            @click=\"login\"\n            >Login\n          </v-btn>\n        </div>\n      </v-form>\n    </v-card>\n\n    <!-- alert   -->\n    <div>\n      <v-alert\n        class=\"mx-auto my-11\"\n        height=\"60\"\n        width=\"30em\"\n        type=\"error\"\n        icon=\"mdi-alert\"\n        v-show=\"showErrorAlert\"\n      >\n        {{ errorMessage }}\n      </v-alert>\n    </div>\n  </div>\n</template>\n\n\n<script >\nimport getUserProfileData from \"@/service/getUserProfileData\";\nimport singUser from \"@/service/login\";\nimport { ref, computed } from \"vue\";\nimport { useRouter, useRoute } from 'vue-router'\nimport { useDataStore } from \"@/stores/userData\";\n\n\nexport default {\n  setup() {\n    const userData = useDataStore()\n    const storeLoginFnc =  userData.login\n\n    let errorMessage = ref(\"\");\n    let showErrorAlert = ref(false);\n    let showProgressCircular = ref(false);\n    let showPass = ref(false);\n    let pass = ref(\"\");\n    let email = ref(\"\");\n    const router = useRouter()\n\n    let emailRules = ref(\n      computed(() => [\n        (v) => !!v || \"E-mail is required\",\n        (v) => /.+@.+\\..+/.test(v) || \"E-mail must be valid\",\n      ])\n    );\n\n    let passRules = ref(\n      computed(() => [\n        (v) => !!v || \"Password is required\",\n        (v) => (v && v.length > 5) || \"Password must be more than 5 chars\",\n      ])\n    );\n\n    let login = () => {    \n      showProgressCircular.value = true;\n      setTimeout(() => (showProgressCircular.value = false), 2000);\n      //invoke login function\n      singUser(email.value, pass.value).then((message) => {\n        if (message == \"success\") {\n          getUserProfileData().then((userData) => {\n            //getUserDataFromRegisterProfile\n            const [userName, userPhoto] = userData;\n            // this.$root.$emit('user-data', userName, userPhoto)\n            console.log(userName, userPhoto);\n\n           storeLoginFnc()\n\n          });\n           router.push('/events') //redirect to page\n        } else {\n          errorMessage.value = message;\n          // showErrorAlert.value = true;\n          setTimeout(() => (showErrorAlert.value = false), 3000);\n          \n        }\n      });\n          \n    };\n\n    return { email, pass, showPass, showProgressCircular, showErrorAlert, errorMessage, emailRules, passRules, login, };\n  },\n};\n</script>\n","import { getAuth } from \"firebase/auth\";\n\n\nconst getUserProfileData = async () => {\n\n  const auth = getAuth()\n  const user = await auth.currentUser\n\n  if (user !== null) {\n       console.log('getData: ' , user.displayName, user.photoURL )\n       return [user.displayName, user.photoURL]\n   }\n    \n  \n}\n\n\nexport default getUserProfileData","import {getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\n\nconst singUser = (email, password) => signInWithEmailAndPassword(getAuth(), email, password)\n  .then((userCredential) => {\n    const { uid, email, displayName, photoURL } = userCredential.user\n\n    console.log(`Success login!\\nYou id: ${uid}\\nYou email: ${email}`)\n    // localStorage.setItem('auth', JSON.stringify(userCredential.user)) //save all user data )\n\n    localStorage.setItem('auth', JSON.stringify({ uid, email, displayName, photoURL}))\n    return 'success'\n  })\n  .catch((error) => {\n    // const errorCode = error.code;\n    return [error.message]\n\n  });\n\n\nexport default singUser\n","import { render } from \"./LoginView.vue?vue&type=template&id=4616bc2f\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/event_web_spa_vue3_comp_pinia/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","_createElementBlock","_hoisted_3","_createVNode","_component_v_btn","variant","to","_component_v_card","_component_v_card_title","_hoisted_7","_component_v_img","src","_imports_0","cover","_component_v_form","_component_v_text_field","$setup","$event","rules","label","type","required","clearable","counter","_cache","disabled","elevation","onClick","_component_v_alert","height","width","icon","getUserProfileData","async","auth","getAuth","user","currentUser","console","log","displayName","photoURL","singUser","email","password","signInWithEmailAndPassword","then","userCredential","uid","localStorage","setItem","JSON","stringify","catch","error","message","setup","userData","useDataStore","storeLoginFnc","login","errorMessage","ref","showErrorAlert","showProgressCircular","showPass","pass","router","useRouter","emailRules","computed","v","test","passRules","length","value","setTimeout","userName","userPhoto","push","__exports__","render"],"sourceRoot":""}