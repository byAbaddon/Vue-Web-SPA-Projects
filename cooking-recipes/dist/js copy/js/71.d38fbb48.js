"use strict";(self["webpackChunkcooking_recipes"]=self["webpackChunkcooking_recipes"]||[]).push([[71],{1071:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var o=a(3396),n=a(9242),r=a(7139);const i=(0,o.uE)('<p class="h4 mb-4" data-v-8ffebff6>Share Recipe</p><input type="text" name="meal" class="form-control mb-4" placeholder="Meal" required minlength="2" maxlength="50" value="" data-v-8ffebff6><input type="text" name="ingredients" class="form-control mb-4" placeholder="Ingredients. Attention! Put DOT, in every row end!" rows="13" minlength="10" maxlength="1000" required value="" data-v-8ffebff6><textarea type="text" name="preparation" class="form-control mb-4" placeholder="Method of preparation" rows="13" minlength="10" maxlength="1000" required value="" data-v-8ffebff6></textarea><textarea type="text" name="description" class="form-control mb-4" placeholder="Description" rows="13" minlength="10" maxlength="1000" required value="" data-v-8ffebff6></textarea><input type="text" name="image" class="form-control mb-4" placeholder="Food Image URL..." minlength="10" maxlength="200" required value="" data-v-8ffebff6>',6),s=(0,o.uE)('<select name="category" required data-v-8ffebff6><option selected data-v-8ffebff6>Select category...</option><option data-v-8ffebff6>Vegetables and legumes/beans</option><option data-v-8ffebff6>Fruits</option><option data-v-8ffebff6>Grain Food</option><option data-v-8ffebff6>Milk or cheese, eggs and alternatives</option><option data-v-8ffebff6>Lean meats and poultry, fish and alternatives</option><option data-v-8ffebff6>Desserts</option><option data-v-8ffebff6>Cocktails</option></select><div data-v-8ffebff6><button class="btn btn-danger w-25 m-auto my-4 btn-block" data-v-8ffebff6>Share it</button></div>',2),f={class:"message"};function l(e,t,a,l,c,d){return(0,o.wg)(),(0,o.iD)("form",{class:"text-center p-5 form-layout",id:"share",onSubmit:t[0]||(t[0]=(0,n.iM)(((...e)=>l.submit&&l.submit(...e)),["prevent"]))},[i,(0,o._)("p",null,(0,r.zw)(e.value),1),s,(0,o._)("p",f,(0,r.zw)(l.message),1)],32)}var c=a(4870),d=a(5437),p=a(6035);const m=async e=>{const t=(0,p.JU)((0,p.hJ)(d.db,"recipes"));await(0,p.pl)(t,Object.assign({},{id:t.id},e))};var u=m,g=a(1120),b={setup(){let e=(0,c.iH)("");const t=()=>{const t=new FormData(document.getElementById("share")),a=t.get("meal").trim(),o=t.get("ingredients").trim(),n=t.get("preparation").trim(),r=t.get("description").trim(),i=t.get("image").trim(),s=t.get("category");"Select category..."!==s&&/[http://|https://]/.test(i)?u({meal:a,ingredients:o,preparation:n,description:r,image:i,category:s,likes:0,voters:[],creatorId:JSON.parse(localStorage.getItem("auth")).uid}).then((()=>{document.querySelector("#share").reset(),console.log("Success add new recipe"),g.Z.push({name:"message",query:{from:"share"}})})).catch((e=>console.log(e.error))):(console.log("wrong input"),e.value="Wrong input field/s or not select category!",setTimeout((()=>e.value=""),3e3))};return(0,o.Jd)((()=>document.querySelector("#share").reset())),{submit:t,message:e}}},v=a(89);const h=(0,v.Z)(b,[["render",l],["__scopeId","data-v-8ffebff6"]]);var y=h}}]);
//# sourceMappingURL=71.d38fbb48.js.map