"use strict";(self["webpackChunkcooking_recipes"]=self["webpackChunkcooking_recipes"]||[]).push([[327],{2327:function(e,c,n){n.r(c),n.d(c,{default:function(){return O}});var s=n(3396),i=n(7139);const a=e=>((0,s.dD)("data-v-0b120f48"),e=e(),(0,s.Cn)(),e),t={class:"row form-layout p-5"},r={class:"col-md-12"},o={class:"recepieInfo"},l={class:"detailsFoodImage"},u=["src"],d={class:"infoPack"},p={class:"my-3"},k={class:"prep-method"},g={class:"description"},m={class:"detailsIngredients"},v=a((()=>(0,s._)("h3",{class:"my-3 ingredient"},"Ingredients",-1))),b={class:"actions"},h={key:0},w={key:1};function f(e,c,n,a,f,y){return(0,s.wg)(),(0,s.iD)("div",t,[(0,s._)("div",r,[(0,s._)("div",o,[(0,s._)("div",l,[(0,s._)("img",{src:a.currentRecipe.image,alt:"foodImageURL",width:"300"},null,8,u)]),(0,s._)("div",d,[(0,s._)("h3",p,(0,i.zw)(a.currentRecipe.meal),1),(0,s._)("p",k,(0,i.zw)(a.currentRecipe.preparation),1),(0,s._)("p",g,(0,i.zw)(a.currentRecipe.description),1)]),(0,s._)("div",m,[v,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.currentRecipe.ingredients?a.currentRecipe.ingredients.split("."):null,((e,c)=>((0,s.wg)(),(0,s.iD)("ul",{key:c},[(0,s._)("li",null,(0,i.zw)(e),1)])))),128))]),(0,s._)("div",b,[a.owner==a.currentRecipe.creatorId?((0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("a",{class:"btn btn-info",onClick:c[0]||(c[0]=(...e)=>a.editRecipe&&a.editRecipe(...e))},"Edit"),(0,s._)("a",{class:"btn btn-danger",onClick:c[1]||(c[1]=(...e)=>a.archiveRecipe&&a.archiveRecipe(...e))},"Delete"),(0,s._)("a",{class:"btn btn-warning",onClick:c[2]||(c[2]=(...e)=>a.btnBack&&a.btnBack(...e))},"Back")])):((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("a",{class:"btn btn-success",onClick:c[3]||(c[3]=(...e)=>a.btnOnLike&&a.btnOnLike(...e))},"Likes: "+(0,i.zw)(a.currentRecipe.likes),1),(0,s._)("a",{id:"btnBackTwo",class:"btn btn-warning",onClick:c[4]||(c[4]=(...e)=>a.btnBack&&a.btnBack(...e))},"Back")]))])])])])}var y=n(5437),_=n(6035);const R=async e=>{await(0,_.oe)((0,_.JU)(y.db,"recipes",e))};var B=R;async function C(e){const c=(0,_.JU)(y.db,"recipes",e),n=await(0,_.QT)(c);if(n.exists())return console.log("Document data details was load successful!"),n.data();console.log("No such document!")}const D=async(e,c,n)=>{const s=(0,_.JU)(y.db,"recipes",e);await(0,_.r7)(s,c),await(0,_.r7)(s,{voters:(0,_.vr)(n)})};var I=D,L=n(1120),Z=n(678),q=n(4870),S={setup(){let e=(0,q.iH)(JSON.parse(localStorage.getItem("auth")).uid),c=(0,Z.yj)().params.id,n=(0,q.iH)("");C(c).then((e=>n.value=e)),document.querySelector("#footer").style.display="none",(0,s.Ah)((()=>document.querySelector("#footer").style.display="block"));const i=()=>{const s=n.value.voters.filter((c=>c==e.value));if(s.length)console.log("You already making vote in this recipe!"),L.Z.push({name:"message",query:{from:"alreadyLike"}});else{let s=Number(n.value.likes);I(c,{likes:++s},e.value).then((()=>{console.log("Success, add new like!"),L.Z.push({name:"message",query:{from:"makeLike"}})})).catch((e=>{console.log("Error",e.error),L.Z.push({name:"message",query:{from:"makeLike",error:e}})}))}},a=()=>{B(c).then((()=>{console.log("Success deleted recipe"),L.Z.push({name:"message",query:{from:"archive"}})})).catch((e=>console.log(e.error)))},t=()=>{L.Z.push({path:`/category/recipe/edit/${c}`})},r=()=>L.Z.go(-1);return{owner:e,currentRecipe:n,btnOnLike:i,archiveRecipe:a,editRecipe:t,btnBack:r}}},z=n(89);const J=(0,z.Z)(S,[["render",f],["__scopeId","data-v-0b120f48"]]);var O=J}}]);
//# sourceMappingURL=327.4521e6c2.js.map