"use strict";(self["webpackChunkcooking_recipes"]=self["webpackChunkcooking_recipes"]||[]).push([[432,729,239,327],{885:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(3396),i=a(7139),o=a.p+"img/chef.7675ae95.jpeg";const r=e=>((0,n.dD)("data-v-5ceb9f34"),e=e(),(0,n.Cn)(),e),s={key:0},l=(0,n.uE)('<div class="home-after-login" data-v-5ceb9f34><h1 class="title" data-v-5ceb9f34>Our Recipes:</h1><div data-v-5ceb9f34><img class="WTF" style="display:none;" data-v-5ceb9f34><img id="chef" src="'+o+'" alt="" width="500px" data-v-5ceb9f34></div><h4 style="" data-v-5ceb9f34>Food Not Found...</h4></div>',1),c=(0,n.Uk)(" Press "),d=r((()=>(0,n._)("span",null,"ShareRecipe",-1))),u=(0,n.Uk)(" to add new recipe "),p={key:1,class:"recipes-section"},m=r((()=>(0,n._)("div",{class:"home-after-login"},[(0,n._)("h1",{class:"title"},"Our Recipes:")],-1))),g={class:"row"},h={class:"col-lg-12"},v={class:"our-team-main"},f={class:"team-front"},y=["src"],w={class:"team-back"},_={class:"back-side-info"},b=r((()=>(0,n._)("h4",null,"Ingredients",-1))),k=r((()=>(0,n._)("a",null,"View the recipe",-1))),R=["src"],D={style:{color:"red"}};function F(e,t,a,o,r,F){const C=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("article",null,[o.isNoRecipes?((0,n.wg)(),(0,n.iD)("section",s,[l,(0,n._)("h6",null,[c,(0,n.Wm)(C,{to:"/share"},{default:(0,n.w5)((()=>[d])),_:1}),u])])):((0,n.wg)(),(0,n.iD)("section",p,[m,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.allRecipesByCategory,((a,o)=>((0,n.wg)(),(0,n.iD)("div",{class:"container",key:o},[(0,n._)("div",g,[(0,n._)("div",h,[(0,n._)("div",v,[(0,n._)("div",f,[(0,n._)("img",{src:a.image},null,8,y),(0,n._)("h3",null,(0,i.zw)(a.meal),1),(0,n._)("p",null,(0,i.zw)(a.category),1)]),(0,n._)("div",w,[(0,n._)("div",_,[b,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.ingredients.split(".").splice(0,13),((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t},(0,i.zw)(e),1)))),128))]),(0,n._)("p",{class:"link",onClick:t[0]||(t[0]=(...t)=>e.goToDetailsComponent&&e.goToDetailsComponent(...t))},[(0,n.Wm)(C,{to:{name:"details",params:{id:a.id}}},{default:(0,n.w5)((()=>[k])),_:2},1032,["to"])])]),(0,n._)("img",{class:"foodImage",src:a.image},null,8,R)])])])])])))),128))])),(0,n._)("h4",D,(0,i.zw)(e.test),1)])}var C=a(5437),q=a(6035),x=a(4870);function I(){let e=(0,x.iH)([]);return(0,q.cf)((0,q.hJ)(C.db,"recipes"),(t=>t.docs.forEach((t=>e.value.push(Object.assign({},{id:t.id},t.data())))))),e}var U=a(678),Z={setup(){let e=(0,x.iH)(I());const t=(0,U.yj)().query.type;let a=(0,n.Fl)((()=>e.value.filter((e=>e.category.split(" ")[0].toLowerCase()==t)))),i=(0,n.Fl)((()=>0==a.value));return{isNoRecipes:i,allRecipesByCategory:a}}},B=a(89);const L=(0,B.Z)(Z,[["render",F],["__scopeId","data-v-5ceb9f34"]]);var S=L},2327:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(3396),i=a(7139);const o=e=>((0,n.dD)("data-v-0b120f48"),e=e(),(0,n.Cn)(),e),r={class:"row form-layout p-5"},s={class:"col-md-12"},l={class:"recepieInfo"},c={class:"detailsFoodImage"},d=["src"],u={class:"infoPack"},p={class:"my-3"},m={class:"prep-method"},g={class:"description"},h={class:"detailsIngredients"},v=o((()=>(0,n._)("h3",{class:"my-3 ingredient"},"Ingredients",-1))),f={class:"actions"},y={key:0},w={key:1};function _(e,t,a,o,_,b){return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",s,[(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("img",{src:o.currentRecipe.image,alt:"foodImageURL",width:"300"},null,8,d)]),(0,n._)("div",u,[(0,n._)("h3",p,(0,i.zw)(o.currentRecipe.meal),1),(0,n._)("p",m,(0,i.zw)(o.currentRecipe.preparation),1),(0,n._)("p",g,(0,i.zw)(o.currentRecipe.description),1)]),(0,n._)("div",h,[v,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.currentRecipe.ingredients?o.currentRecipe.ingredients.split("."):null,((e,t)=>((0,n.wg)(),(0,n.iD)("ul",{key:t},[(0,n._)("li",null,(0,i.zw)(e),1)])))),128))]),(0,n._)("div",f,[o.owner==o.currentRecipe.creatorId?((0,n.wg)(),(0,n.iD)("div",y,[(0,n._)("a",{class:"btn btn-info",onClick:t[0]||(t[0]=(...e)=>o.editRecipe&&o.editRecipe(...e))},"Edit"),(0,n._)("a",{class:"btn btn-danger",onClick:t[1]||(t[1]=(...e)=>o.archiveRecipe&&o.archiveRecipe(...e))},"Delete"),(0,n._)("a",{class:"btn btn-warning",onClick:t[2]||(t[2]=(...e)=>o.btnBack&&o.btnBack(...e))},"Back")])):((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("a",{class:"btn btn-success",onClick:t[3]||(t[3]=(...e)=>o.btnOnLike&&o.btnOnLike(...e))},"Likes: "+(0,i.zw)(o.currentRecipe.likes),1),(0,n._)("a",{id:"btnBackTwo",class:"btn btn-warning",onClick:t[4]||(t[4]=(...e)=>o.btnBack&&o.btnBack(...e))},"Back")]))])])])])}var b=a(5437),k=a(6035);const R=async e=>{await(0,k.oe)((0,k.JU)(b.db,"recipes",e))};var D=R;async function F(e){const t=(0,k.JU)(b.db,"recipes",e),a=await(0,k.QT)(t);if(a.exists())return console.log("Document data details was load successful!"),a.data();console.log("No such document!")}const C=async(e,t,a)=>{const n=(0,k.JU)(b.db,"recipes",e);await(0,k.r7)(n,t),await(0,k.r7)(n,{voters:(0,k.vr)(a)})};var q=C,x=a(1120),I=a(678),U=a(4870),Z={setup(){let e=(0,U.iH)(JSON.parse(localStorage.getItem("auth")).uid),t=(0,I.yj)().params.id,a=(0,U.iH)("");F(t).then((e=>a.value=e)),document.querySelector("#footer").style.display="none",(0,n.Ah)((()=>document.querySelector("#footer").style.display="block"));const i=()=>{const n=a.value.voters.filter((t=>t==e.value));if(n.length)console.log("You already making vote in this recipe!"),x.Z.push({name:"message",query:{from:"alreadyLike"}});else{let n=Number(a.value.likes);q(t,{likes:++n},e.value).then((()=>{console.log("Success, add new like!"),x.Z.push({name:"message",query:{from:"makeLike"}})})).catch((e=>{console.log("Error",e.error),x.Z.push({name:"message",query:{from:"makeLike",error:e}})}))}},o=()=>{D(t).then((()=>{console.log("Success deleted recipe"),x.Z.push({name:"message",query:{from:"archive"}})})).catch((e=>console.log(e.error)))},r=()=>{x.Z.push({path:`/category/recipe/edit/${t}`})},s=()=>x.Z.go(-1);return{owner:e,currentRecipe:a,btnOnLike:i,archiveRecipe:o,editRecipe:r,btnBack:s}}},B=a(89);const L=(0,B.Z)(Z,[["render",_],["__scopeId","data-v-0b120f48"]]);var S=L},239:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var n=a(3396),i=a(9242);const o=e=>((0,n.dD)("data-v-1bad8483"),e=e(),(0,n.Cn)(),e),r=o((()=>(0,n._)("p",{class:"h4 mb-4"},"Edit Recipe",-1))),s=o((()=>(0,n._)("option",{selected:""},"Select category...",-1))),l=o((()=>(0,n._)("option",null,"Vegetables and legumes/beans",-1))),c=o((()=>(0,n._)("option",null,"Fruits",-1))),d=o((()=>(0,n._)("option",null,"Grain Food",-1))),u=o((()=>(0,n._)("option",null,"Milk, cheese, eggs and alternatives",-1))),p=o((()=>(0,n._)("option",null,"Lean meats and poultry, fish and alternatives",-1))),m=o((()=>(0,n._)("option",null,"Desserts",-1))),g=o((()=>(0,n._)("option",null,"Cocktails",-1))),h=[s,l,c,d,u,p,m,g],v=o((()=>(0,n._)("div",null,[(0,n._)("button",{class:"btn btn-danger w-25 m-auto my-4 btn-block"},"Edit")],-1)));function f(e,t,a,o,s,l){return(0,n.wg)(),(0,n.iD)("form",{class:"text-center p-5 form-layout",id:"share",ref:"form",onSubmit:t[6]||(t[6]=(0,i.iM)(((...e)=>o.submit&&o.submit(...e)),["prevent"]))},[r,(0,n.wy)((0,n._)("input",{type:"text",name:"meal",class:"form-control mb-4",placeholder:"Meal",required:"",minlength:"2",maxlength:"50","onUpdate:modelValue":t[0]||(t[0]=e=>o.dataFrom.meal=e)},null,512),[[i.nr,o.dataFrom.meal,void 0,{trim:!0}]]),(0,n.wy)((0,n._)("input",{type:"text",name:"ingredients",class:"form-control mb-4",placeholder:"Ingredients. Attention! Put DOT, in every row end!",rows:"13",minlength:"10",maxlength:"1000",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>o.dataFrom.ingredients=e)},null,512),[[i.nr,o.dataFrom.ingredients,void 0,{trim:!0}]]),(0,n.wy)((0,n._)("textarea",{type:"text",name:"preparation",class:"form-control mb-4",placeholder:"Method of preparation",rows:"13",minlength:"10",maxlength:"1000",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>o.dataFrom.preparation=e)},null,512),[[i.nr,o.dataFrom.preparation,void 0,{trim:!0}]]),(0,n.wy)((0,n._)("textarea",{type:"text",name:"description",class:"form-control mb-4",placeholder:"Description",rows:"13",minlength:"10",maxlength:"1000",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>o.dataFrom.description=e)},null,512),[[i.nr,o.dataFrom.description,void 0,{trim:!0}]]),(0,n.wy)((0,n._)("input",{type:"text",name:"image",class:"form-control mb-4",placeholder:"Food Image URL...",minlength:"10",maxlength:"200",required:"","onUpdate:modelValue":t[4]||(t[4]=e=>o.dataFrom.image=e)},null,512),[[i.nr,o.dataFrom.image,void 0,{trim:!0}]]),(0,n.wy)((0,n._)("select",{name:"category",required:"","onUpdate:modelValue":t[5]||(t[5]=e=>o.dataFrom.category=e)},h,512),[[i.bM,o.dataFrom.category,void 0,{trim:!0}]]),v],544)}var y=a(1120),w=a(678),_=a(5437),b=a(6035);const k=async(e,t)=>{const a=(0,b.JU)(_.db,"recipes",e);await(0,b.r7)(a,t)};var R=k;async function D(e){const t=(0,b.JU)(_.db,"recipes",e),a=await(0,b.QT)(t);if(a.exists())return console.log("Document data details was load successful!"),a.data();console.log("No such document!")}var F=D,C=a(4870),q={setup(){let e=(0,w.yj)().params.id,t=(0,C.iH)("");F(e).then((e=>t.value=e)).catch((e=>console.log(e.error))),(0,n.m0)((()=>t));const a=()=>{const t=new FormData(document.getElementById("share")),a=t.get("meal"),n=t.get("ingredients"),i=t.get("preparation"),o=t.get("description"),r=t.get("image"),s=t.get("category");"Select category..."!==s&&/[http://|https://]/.test(r)&&R(e,{meal:a,ingredients:n,preparation:i,description:o,image:r,category:s}).then((()=>{y.Z.push({name:"message",query:{from:"edit"}}),console.log("Success edit recipe")})).catch((e=>console.log(e.error)))};return{submit:a,dataFrom:t}}},x=a(89);const I=(0,x.Z)(q,[["render",f],["__scopeId","data-v-1bad8483"]]);var U=I},8015:function(e,t,a){a.r(t),a.d(t,{default:function(){return p}});var n=a(3396);function i(e,t,a,i,o,r){const s=(0,n.up)("all-recipes-component"),l=(0,n.up)("edit-recipe-component"),c=(0,n.up)("details-recipe-component");return(0,n.wg)(),(0,n.iD)("div",null,["recipe"==i.path?((0,n.wg)(),(0,n.j4)(s,{key:0})):(0,n.kq)("",!0),"edit"==i.path?((0,n.wg)(),(0,n.j4)(l,{key:1})):(0,n.kq)("",!0),"details"==i.path?((0,n.wg)(),(0,n.j4)(c,{key:2})):(0,n.kq)("",!0)])}var o=a(885),r=a(239),s=a(2327),l=a(1120),c={components:{AllRecipesComponent:o["default"],EditRecipeComponent:r["default"],DetailsRecipeComponent:s["default"]},setup(){let e=(0,n.Fl)((()=>l.Z.currentRoute.value.name));return{path:e}}},d=a(89);const u=(0,d.Z)(c,[["render",i]]);var p=u}}]);
//# sourceMappingURL=432.37b53720.js.map