{"version":3,"file":"js/239.4efd5ae9.js","mappings":"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","sources":["webpack://cooking-recipes/./src/components/EditRecipeComponent.vue","webpack://cooking-recipes/./src/service/editRecipe.js","webpack://cooking-recipes/./src/service/getCurrentRecipe.js","webpack://cooking-recipes/./src/components/EditRecipeComponent.vue?43da"],"sourcesContent":["<template>\n  <form\n    class=\"text-center p-5 form-layout\"\n    id=\"share\"\n    ref=\"form\"\n    @submit.prevent=\"submit\"\n  >\n    <p class=\"h4 mb-4\">Edit Recipe</p>\n\n    <input\n      type=\"text\"\n      name=\"meal\"\n      class=\"form-control mb-4\"\n      placeholder=\"Meal\"\n      required\n      minlength=\"2\"\n      maxlength=\"50\"\n      v-model.trim=\"dataFrom.meal\"\n    />\n\n    <input\n      type=\"text\"\n      name=\"ingredients\"\n      class=\"form-control mb-4\"\n      placeholder=\"Ingredients. Attention! Put DOT, in every row end!\"\n      rows=\"13\"\n      minlength=\"10\"\n      maxlength=\"1000\"\n      required\n      v-model.trim=\"dataFrom.ingredients\"\n    />\n\n    <textarea\n      type=\"text\"\n      name=\"preparation\"\n      class=\"form-control mb-4\"\n      placeholder=\"Method of preparation\"\n      rows=\"13\"\n      minlength=\"10\"\n      maxlength=\"1000\"\n      required\n      v-model.trim=\"dataFrom.preparation\"\n    ></textarea>\n\n    <textarea\n      type=\"text\"\n      name=\"description\"\n      class=\"form-control mb-4\"\n      placeholder=\"Description\"\n      rows=\"13\"\n      minlength=\"10\"\n      maxlength=\"1000\"\n      required\n      v-model.trim=\"dataFrom.description\"\n    ></textarea>\n\n    <input\n      type=\"text\"\n      name=\"image\"\n      class=\"form-control mb-4\"\n      placeholder=\"Food Image URL...\"\n      minlength=\"10\"\n      maxlength=\"200\"\n      required\n      v-model.trim=\"dataFrom.image\"\n    />\n    <select name=\"category\" required  v-model.trim=\"dataFrom.category\">\n      <option selected>Select category...</option>\n      <option>Vegetables and legumes/beans</option>\n      <option>Fruits</option>\n      <option>Grain Food</option>\n      <option>Milk, cheese, eggs and alternatives</option>\n      <option>Lean meats and poultry, fish and alternatives</option>\n      <option>Desserts</option>\n      <option>Cocktails</option>\n    </select>\n <div>\n    <button class=\"btn btn-danger w-25 m-auto my-4 btn-block\">Edit</button>\n </div>\n   \n  </form>\n</template> \n\n<script>\nimport router from \"@/router\";\nimport { useRoute } from \"vue-router\";\nimport editCurrentRecipe from \"@/service/editRecipe\";\nimport loadRecipe from \"@/service/getCurrentRecipe\";\nimport { ref, watchEffect } from \"vue\";\n\n\n\nexport default {\n  setup() {\n    let recipeId = useRoute().params.id\n    let dataFrom = ref('')\n \n\n   \n    loadRecipe(recipeId)\n        .then((data) => dataFrom.value = data)\n        .catch((e) => console.log(e.error))\n\n    watchEffect(()=> dataFrom  )\n   \n    const submit = () => {\n      const form = new FormData(document.getElementById(\"share\"));\n      const meal = form.get(\"meal\");\n      const ingredients = form.get(\"ingredients\")\n      const preparation = form.get(\"preparation\");\n      const description = form.get(\"description\")\n      const image = form.get(\"image\")\n      const category = form.get(\"category\");\n\n      // console.log(meal, ingredients, preparation, description, image, category)\n      if (\n        category !== \"Select category...\" &&\n        /[http://|https://]/.test(image)\n      ) {\n        editCurrentRecipe( recipeId ,{ meal, ingredients, preparation, description, image, category})\n          .then(() => {\n            router.push({ name: 'message', query: { 'from': 'edit' } })\n            console.log(\"Success edit recipe\")\n          })\n          .catch((e) => console.log(e.error));\n      }\n    };\n\n    return { submit, dataFrom };\n  },\n};\n</script>\n\n<style scoped >\nform {\n  width: 38%;\n  height: 40em;\n  margin: 0 auto;\n  margin-top: 2em;\n}\n\ntextarea {\n  height: 6em;\n}\n</style>","import { db } from '@/service/sdk'     \nimport { doc, updateDoc } from \"firebase/firestore\";\n\n\nconst editCurrentRecipe = async (key, objectData) => {\n  const editDone = doc(db, \"recipes\", key)\n  await updateDoc(editDone, objectData)\n}\n\nexport default editCurrentRecipe","import { db } from '@/service/sdk'\nimport { doc, getDoc } from \"firebase/firestore\";\n\n\nasync function loadRecipe(keyId) {\n  const docRef = doc(db, \"recipes\", keyId)\n  const docSnap = await getDoc(docRef)\n\n  if (docSnap.exists()) {\n    console.log(\"Document data details was load successful!\")\n    return docSnap.data()\n  } else {\n    console.log(\"No such document!\")\n  }\n\n}\n\n\nexport default loadRecipe","import { render } from \"./EditRecipeComponent.vue?vue&type=template&id=1bad8483&scoped=true\"\nimport script from \"./EditRecipeComponent.vue?vue&type=script&lang=js\"\nexport * from \"./EditRecipeComponent.vue?vue&type=script&lang=js\"\n\nimport \"./EditRecipeComponent.vue?vue&type=style&index=0&id=1bad8483&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/cooking-recipes/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1bad8483\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","selected","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_createElementBlock","id","ref","onSubmit","$setup","_hoisted_1","type","name","placeholder","required","minlength","maxlength","meal","$event","rows","ingredients","preparation","description","image","category","_hoisted_11","editCurrentRecipe","async","key","objectData","editDone","doc","db","updateDoc","loadRecipe","keyId","docRef","docSnap","getDoc","exists","console","log","data","setup","recipeId","useRoute","params","dataFrom","then","value","catch","e","error","watchEffect","submit","form","FormData","document","getElementById","get","test","router","query","__exports__","render"],"sourceRoot":""}