{"version":3,"file":"js/71.d38fbb48.js","mappings":"gvDAgFMA,MAAM,W,0CA/EVC,EAAAA,EAAAA,IAgFO,QA/ELD,MAAM,8BACNE,GAAG,QACFC,SAAM,8BAAUC,EAAAA,QAAAA,EAAAA,UAAAA,IAAM,eAHzB,CAKEC,GA2DAC,EAAAA,EAAAA,GAAkB,UAAAC,EAAAA,EAAAA,IAAZC,EAAAA,OAAK,GACXC,GAcDH,EAAAA,EAAAA,GAAkC,IAAlC,GAAkCC,EAAAA,EAAAA,IAAbH,EAAAA,SAAO,IA/E7B,I,kCCEF,MAAMM,EAAYC,MAAAA,IAChB,MAAMC,GAAeC,EAAAA,EAAAA,KAAIC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,kBAClCC,EAAAA,EAAAA,IAAOJ,EAAcK,OAAOC,OAAO,GAAI,CAAEhB,GAAIU,EAAaV,IAAMiB,KAGxE,Q,UDiFA,GACEC,QACE,IAAIC,GAAUC,EAAAA,EAAAA,IAAI,IAElB,MAAMC,EAAS,KACb,MAAMC,EAAO,IAAIC,SAASC,SAASC,eAAe,UAC5CC,EAAOJ,EAAKK,IAAI,QAAQC,OACxBC,EAAcP,EAAKK,IAAI,eAAeC,OACtCE,EAAcR,EAAKK,IAAI,eAAeC,OACtCG,EAAcT,EAAKK,IAAI,eAAeC,OACtCI,EAAQV,EAAKK,IAAI,SAASC,OAC1BK,EAAWX,EAAKK,IAAI,YAEP,uBAAbM,GAAqC,qBAAqBC,KAAKF,GAEjExB,EAAU,CACNkB,KAAAA,EAAMG,YAAAA,EAAaC,YAAAA,EAAaC,YAAAA,EAAaC,MAAAA,EAAOC,SAAAA,EAAUE,MAAO,EAAGC,OAAQ,GAChFC,UAAWC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,MAErDC,MAAK,KACJnB,SAASoB,cAAc,UAAUC,QACjCC,QAAQC,IAAI,0BACZC,EAAAA,EAAAA,KAAY,CAAEC,KAAM,UAAWC,MAAO,CAAE,KAAQ,cAEnDC,OAAOC,GAAMN,QAAQC,IAAIK,EAAEC,UAE5BP,QAAQC,IAAI,eACZ5B,EAAQmC,MAAQ,8CAChBC,YAAW,IAAMpC,EAAQmC,MAAQ,IAAI,OAM3C,OAFJE,EAAAA,EAAAA,KAAgB,IAAMhC,SAASoB,cAAc,UAAUC,UAE5C,CAAExB,OAAAA,EAAQF,QAAAA,K,QEpHrB,MAAMsC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://cooking-recipes/./src/views/ShareView.vue","webpack://cooking-recipes/./src/service/createRecipe.js","webpack://cooking-recipes/./src/views/ShareView.vue?e957"],"sourcesContent":["<template>\n  <form\n    class=\"text-center p-5 form-layout\"\n    id=\"share\"\n    @submit.prevent=\"submit\"\n  >\n    <p class=\"h4 mb-4\">Share Recipe</p>\n\n    <input\n      type=\"text\"\n      name=\"meal\"\n      class=\"form-control mb-4\"\n      placeholder=\"Meal\"\n      required\n      minlength=\"2\"\n      maxlength=\"50\"\n      value=\"\"\n    />\n\n    <input\n      type=\"text\"\n      name=\"ingredients\"\n      class=\"form-control mb-4\"\n      placeholder=\"Ingredients. Attention! Put DOT, in every row end!\"\n      rows=\"13\"\n      minlength=\"10\"\n      maxlength=\"1000\"\n      required\n      value=\"\"\n    />\n\n    <textarea\n      type=\"text\"\n      name=\"preparation\"\n      class=\"form-control mb-4\"\n      placeholder=\"Method of preparation\"\n      rows=\"13\"\n      minlength=\"10\"\n      maxlength=\"1000\"\n      required\n      value=\"\"\n    ></textarea>\n\n    <textarea\n      type=\"text\"\n      name=\"description\"\n      class=\"form-control mb-4\"\n      placeholder=\"Description\"\n      rows=\"13\"\n      minlength=\"10\"\n      maxlength=\"1000\"\n      required\n      value =\"\"\n    ></textarea>\n\n    <input\n      type=\"text\"\n      name=\"image\"\n      class=\"form-control mb-4\"\n      placeholder=\"Food Image URL...\"\n      minlength=\"10\"\n      maxlength=\"200\"\n      required\n      value=\"\"\n    />\n    <p>{{ value }}</p>\n    <select name=\"category\" required>\n      <option selected>Select category...</option>\n      <option>Vegetables and legumes/beans</option>\n      <option>Fruits</option>\n      <option>Grain Food</option>\n      <option>Milk or cheese, eggs and alternatives</option>\n      <option>Lean meats and poultry, fish and alternatives</option>\n      <option>Desserts</option>\n      <option>Cocktails</option>\n    </select>\n    <div>\n     <button class=\"btn btn-danger w-25 m-auto my-4 btn-block\">Share it</button>\n     \n    </div>\n   <p class=\"message\">{{message}}</p>\n  </form>\n</template> \n\n<script>\n\nimport {ref, onBeforeUnmount} from \"vue\";\nimport addRecipe  from \"@/service/createRecipe\";\nimport router from \"@/router\"\nexport default {\n  setup() {\n    let message = ref('')\n\n    const submit = () => {\n      const form = new FormData(document.getElementById(\"share\"));\n      const meal = form.get(\"meal\").trim();\n      const ingredients = form.get(\"ingredients\").trim();\n      const preparation = form.get(\"preparation\").trim();\n      const description = form.get(\"description\").trim();\n      const image = form.get(\"image\").trim();\n      const category = form.get(\"category\");\n      // console.log(meal, ingredients, preparation, description, image, category)\n      if (  category !== \"Select category...\" && /[http://|https://]/.test(image)  ) {\n      \n          addRecipe({\n              meal, ingredients, preparation, description, image, category, likes: 0, voters: [],\n              creatorId: JSON.parse(localStorage.getItem('auth')).uid\n              })\n            .then(() => {\n              document.querySelector(\"#share\").reset()\n              console.log(\"Success add new recipe\")\n              router.push({ name: 'message', query: { 'from': 'share' }})\n            })\n          .catch((e) => console.log(e.error));\n      } else {\n          console.log('wrong input');\n          message.value = \"Wrong input field/s or not select category!\"\n          setTimeout(() => message.value = '', 3000)\n      }\n    };\n\nonBeforeUnmount(()=>  document.querySelector(\"#share\").reset()  )\n\n    return { submit, message};\n  },\n};\n</script>\n\n<style scoped >\n.message {\n  color: red;\n  position: relative;\n  bottom: 1.2em;\n}\n\nform {\n  width: 38%;\n  height: 40em;\n  margin: 0 auto;\n  margin-top: 2em;\n}\n\ntextarea {\n  height: 6em;\n}\n</style>","import {db} from '@/service/sdk'\nimport { collection, doc, setDoc } from \"firebase/firestore\"; \n\nconst addRecipe = async (recipe) => {\n  const newRecipeRef = doc(collection(db, \"recipes\"))\n  await setDoc(newRecipeRef, Object.assign({}, { id: newRecipeRef.id }, recipe ))\n}\n\nexport default addRecipe ","import { render } from \"./ShareView.vue?vue&type=template&id=8ffebff6&scoped=true\"\nimport script from \"./ShareView.vue?vue&type=script&lang=js\"\nexport * from \"./ShareView.vue?vue&type=script&lang=js\"\n\nimport \"./ShareView.vue?vue&type=style&index=0&id=8ffebff6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/cooking-recipes/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ffebff6\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","id","onSubmit","$setup","_hoisted_1","_createElementVNode","_toDisplayString","_ctx","_hoisted_7","addRecipe","async","newRecipeRef","doc","collection","db","setDoc","Object","assign","recipe","setup","message","ref","submit","form","FormData","document","getElementById","meal","get","trim","ingredients","preparation","description","image","category","test","likes","voters","creatorId","JSON","parse","localStorage","getItem","uid","then","querySelector","reset","console","log","router","name","query","catch","e","error","value","setTimeout","onBeforeUnmount","__exports__","render"],"sourceRoot":""}