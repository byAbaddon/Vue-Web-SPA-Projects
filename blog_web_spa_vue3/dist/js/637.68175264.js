"use strict";(self["webpackChunkblog_web_spa_vue3"]=self["webpackChunkblog_web_spa_vue3"]||[]).push([[637],{637:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var s=a(3396),n=a(9242),o=a(7139);const c=e=>((0,s.dD)("data-v-e93ca028"),e=e(),(0,s.Cn)(),e),l={id:"main-blog"},r={class:"first-section"},i={class:"background-container"},d=(0,s.uE)('<h1 data-v-e93ca028>Create Post</h1><label for="title" data-v-e93ca028>Title</label><input type="text" name="title" placeholder="Required, minlength 2" data-v-e93ca028><label for="category" data-v-e93ca028>Category</label><input type="text" name="category" placeholder="Required, minlength 2" data-v-e93ca028><label for="content" data-v-e93ca028>Content</label><textarea name="content" cols="30" rows="7" placeholder="Required, maxlength 160" data-v-e93ca028></textarea><button data-v-e93ca028>Create</button>',8),u=c((()=>(0,s._)("span",{id:"close-btn"},"âœ–",-1))),g=[u],m={class:"message"};function h(e,t,a,c,u,h){return(0,s.wg)(),(0,s.iD)("main",l,[(0,s._)("section",r,[(0,s._)("section",i,[(0,s._)("form",{class:"edit-form",onSubmit:t[1]||(t[1]=(0,n.iM)(((...e)=>h.createdSubmit&&h.createdSubmit(...e)),["prevent"]))},[d,(0,s._)("a",{onClick:t[0]||(t[0]=(...e)=>h.onBtnExit&&h.onBtnExit(...e))},g)],32),(0,s._)("div",m,[(0,s._)("h2",null,(0,o.zw)(e.message),1)])])])])}var b=a(5728),p=a(6035);const v=async e=>{const t=(0,p.JU)((0,p.hJ)(b.db,"posts"));await(0,p.pl)(t,Object.assign({},{id:t.id},e))};var f=v,_={data:()=>({message:""}),methods:{createdSubmit(e){const t=new FormData(e.target),a=t.get("title"),s=t.get("category"),n=t.get("content"),o=JSON.parse(localStorage.getItem("auth")).email;console.log("click error not fill fields"),this.message="The fields are not fill correct!",a&&s&&n&&n.length>2&&n.length<=160&&(console.log("Success add new post",a),this.message=`Success add new post - ${a}.`,f({title:a,category:s,content:n,creatorEmail:o}),e.target.reset(),setTimeout((()=>{this.$router.push("/posts")}),1500)),setTimeout((()=>this.message=""),2e3)},onBtnExit(e){this.$router.push("/")}}},w=a(89);const x=(0,w.Z)(_,[["render",h],["__scopeId","data-v-e93ca028"]]);var y=x}}]);
//# sourceMappingURL=637.68175264.js.map