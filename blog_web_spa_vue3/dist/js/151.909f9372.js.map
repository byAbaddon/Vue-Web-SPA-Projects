{"version":3,"file":"js/151.909f9372.js","mappings":"wLAGA,IAAIA,EAAQ,GAEZ,MAAMC,EAAcC,UAClBF,EAAQ,GACR,MAAMG,GAAqBC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,SACpCC,QAAsBC,EAAAA,EAAAA,IAAQJ,GAOnC,OALCG,EAAcE,SAASC,IACrB,IAAIC,EAAUC,OAAOC,OAAO,GAAI,CAACC,GAAIJ,EAAII,IAAMJ,EAAIK,QACnDd,EAAMe,KAAKL,MAGPV,I,iKCbNgB,EAAAA,EAAAA,GAGU,WAHDC,MAAM,WAAS,EACtBD,EAAAA,EAAAA,GAAc,UAAV,UACJA,EAAAA,EAAAA,GAAM,QAFR,K,GAIKC,MAAM,a,kBAe6CA,MAAM,W,SAK5CA,MAAM,W,mIAzB1BC,EAAAA,EAAAA,IAoCO,aAnCLC,GAIAH,EAAAA,EAAAA,GA2BM,MA3BN,EA2BM,gBAzBJE,EAAAA,EAAAA,IAwBUE,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAtBaC,EAAAA,UAAQ,CAArBC,EAAMV,M,WAFhBK,EAAAA,EAAAA,IAwBU,WAvBRD,MAAM,OAELO,IAAKX,EACLA,GAAIU,EAAKV,IAJZ,EAMEG,EAAAA,EAAAA,GAAyB,WAAAS,EAAAA,EAAAA,IAAlBF,EAAKG,OAAK,IACjBV,EAAAA,EAAAA,GAEK,YADHA,EAAAA,EAAAA,GAAgC,aAAAS,EAAAA,EAAAA,IAAvBF,EAAKI,UAAQ,MAExBX,EAAAA,EAAAA,GAAyB,UAAAS,EAAAA,EAAAA,IAAnBF,EAAKK,SAAO,GAGLN,EAAAA,kBAAoBC,EAAKM,eAAAA,EAAAA,EAAAA,OAApCX,EAAAA,EAAAA,IAIM,MAJN,EAIM,EAHHF,EAAAA,EAAAA,GAAoD,KAAhDc,QAAK,oBAAEC,EAAAA,OAAAA,EAAAA,SAAAA,IAAOd,MAAM,kBAAiB,YACzCD,EAAAA,EAAAA,GAA8C,KAA1Cc,QAAK,oBAAEC,EAAAA,OAAAA,EAAAA,SAAAA,IAAOd,MAAM,eAAc,SACtCD,EAAAA,EAAAA,GAAkD,KAA9Cc,QAAK,oBAAEC,EAAAA,OAAAA,EAAAA,SAAAA,IAAOd,MAAM,iBAAgB,eAH3C,WAKAC,EAAAA,EAAAA,IAIM,MAJN,EAIM,EAHJF,EAAAA,EAAAA,GAAoD,KAAhDc,QAAK,oBAAEC,EAAAA,OAAAA,EAAAA,SAAAA,IAAOd,MAAM,kBAAiB,YACzCD,EAAAA,EAAAA,GAA0D,KAAtDc,QAAK,oBAAEC,EAAAA,OAAAA,EAAAA,SAAAA,IAAOd,MAAM,eAAc,cACtCD,EAAAA,EAAAA,GAA4D,KAAxDc,QAAK,oBAAEC,EAAAA,OAAAA,EAAAA,SAAAA,IAAOd,MAAM,iBAAgB,iBArB9C,iBA0BAe,EAAAA,EAAAA,IAAsCC,EAAA,CAArBC,SAAUZ,EAAAA,UAAQ,sBACnCU,EAAAA,EAAAA,IAAoCG,EAAA,CAArBD,SAAUZ,EAAAA,UAAQ,sBACjCU,EAAAA,EAAAA,IAAiBI,K,6EChCdnB,MAAM,S,GACJA,MAAM,W,UAIJD,EAAAA,EAAAA,GAAmB,YAAb,UAAM,K,UACZA,EAAAA,EAAAA,GAAsB,YAAhB,aAAS,K,UAEfA,EAAAA,EAAAA,GAAqB,YAAf,YAAQ,K,oDAXzBE,EAAAA,EAAAA,IAgBM,OAhBmBD,MAAM,eAAgBoB,WAAQ,oBAAEf,EAAAA,UAAAA,EAAAA,YAAAA,KAAzD,EAGEN,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAA0D,QAApDC,MAAM,QAASa,QAAK,oBAAEC,EAAAA,eAAAA,EAAAA,iBAAAA,KAAe,QAE7Cf,EAAAA,EAAAA,GAKU,iBAJRA,EAAAA,EAAAA,GAAmD,YAA9CsB,GAA8C,QAA3B,KAACb,EAAAA,EAAAA,IAAGH,EAAAA,SAASI,OAAK,MAC1CV,EAAAA,EAAAA,GAAyD,YAApDuB,GAAoD,QAA9B,KAACd,EAAAA,EAAAA,IAAGH,EAAAA,SAASK,UAAQ,MAEhDX,EAAAA,EAAAA,GAAuD,YAAlDwB,GAAkD,QAA7B,KAACf,EAAAA,EAAAA,IAAGH,EAAAA,SAASM,SAAO,UAXpD,aAAaN,EAAAA,c,uBAsBf,GACEmB,MAAO,CAAC,YAER3B,KAAM,KAAM,CACV4B,SAAU,GACVC,YAAY,IAEdC,QAAS,CACPC,gBACEC,KAAKH,YAAa,IAItBI,UACEC,IAAAA,GAAW,cAAeC,IACxBH,KAAKH,YAAcG,KAAKH,WACxBG,KAAKJ,SAAWI,KAAKZ,SAASgB,QAAQC,GAAMA,EAAEtC,IAAMoC,IAAe,Q,QChCzE,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCR6BnC,MAAM,gB,GAExBA,MAAM,S,uFAFbC,EAAAA,EAAAA,IAKM,MALN,EAKM,EAHJF,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADLgB,EAAAA,EAAAA,IAAkBqB,MAHrB,aAAa/B,EAAAA,c,+DCCTT,GAAG,a,GACEI,MAAM,iB,GACFA,MAAM,wB,UAEPD,EAAAA,EAAAA,GAAkB,UAAd,aAAS,K,UACbA,EAAAA,EAAAA,GAAgC,SAAzBsC,IAAI,SAAQ,SAAK,K,sBAExBtC,EAAAA,EAAAA,GAAsC,SAA/BsC,IAAI,YAAW,YAAQ,K,sBAE9BtC,EAAAA,EAAAA,GAAoC,SAA7BsC,IAAI,WAAU,WAAO,K,sBAG5BtC,EAAAA,EAAAA,GAAuB,cAAf,UAAM,K,UACQA,EAAAA,EAAAA,GAAsC,QAAhCH,GAAG,aAAc,KAAQ,K,GAA/B0C,G,GACjBtC,MAAM,W,0CAdzBC,EAAAA,EAAAA,IAmBK,OAnBL,EAmBK,EAlBHF,EAAAA,EAAAA,GAgBU,UAhBV,EAgBU,EAfNA,EAAAA,EAAAA,GAcY,UAdZ,EAcY,EAbRA,EAAAA,EAAAA,GAYO,QAZDC,MAAM,YAAauC,SAAM,8BAAUzB,EAAAA,eAAAA,EAAAA,iBAAAA,IAAa,eAAtD,CACIQ,EACAC,GACAxB,EAAAA,EAAAA,GAA4F,SAArFyC,KAAK,OAAOC,KAAK,QAAQC,YAAY,wBAAyBC,MAAOtC,EAAAA,SAASI,OAArF,UACAmC,GACA7C,EAAAA,EAAAA,GAAkG,SAA3FyC,KAAK,OAAOC,KAAK,WAAWC,YAAY,wBAAyBC,MAAOtC,EAAAA,SAASK,UAAxF,UACAmC,GACA9C,EAAAA,EAAAA,GACwC,YAD9B0C,KAAK,UAAUK,KAAK,KAAKC,KAAK,IAAKL,YAAY,0BACvDC,MAAOtC,EAAAA,SAASM,SAAU,IAAC,EAAAqC,GAC7BC,GACAlD,EAAAA,EAAAA,GAAgE,KAA5Dc,QAAK,oBAAEC,EAAAA,WAAAA,EAAAA,aAAAA,KAAX,IACAf,EAAAA,EAAAA,GAAgD,MAAhD,EAAgD,EAA1BA,EAAAA,EAAAA,GAAoB,WAAAS,EAAAA,EAAAA,IAAdH,EAAAA,SAAO,MAXvC,U,wBCDZ,MAAM6C,EAAWjE,MAAOsB,EAAK4C,KAC3B,MAAMC,GAAW5D,EAAAA,EAAAA,IAAIJ,EAAAA,GAAI,QAASmB,SAC5B8C,EAAAA,EAAAA,IAAUD,EAAUD,IAM5B,QDiBA,GAGEtD,KAAM,KAAM,CACX4B,SAAU,GACV6B,QAAS,KAGV3B,QAAQ,CACP4B,cAAcC,GACb,MAAMC,EAAO,IAAIC,SAASF,EAAEG,QACtBlD,EAAQgD,EAAKG,IAAI,SACjBlD,EAAW+C,EAAKG,IAAI,YACpBjD,EAAU8C,EAAKG,IAAI,WAGxBC,QAAQC,IAAI,+BACZjC,KAAKyB,QAAU,mCAEZ7C,GAASC,GAAYC,GAAYA,EAAQoD,OAAS,GAAKpD,EAAQoD,QAAU,MAC3EF,QAAQC,IAAI,oBAAqBrD,GACjCoB,KAAKyB,QAAW,uBAAsB7C,KACtCuD,EAAYnC,KAAKJ,SAAS7B,GAAI,CAACa,MAAAA,EAAOC,SAAAA,EAAUC,QAAAA,IAChD6C,EAAEG,OAAOM,QACTpC,KAAKqC,QAAQpE,KAAK,CAACqE,KAAM,gBACzBC,YAAW,KACTvC,KAAKqC,QAAQpE,KAAK,YACjB,MAELsE,YAAW,IAAMvC,KAAKyB,QAAU,IAAK,MAIrCe,YACEtC,IAAAA,KAAa,UAKjBD,UACEC,IAAAA,GAAW,YAAYlC,GAASgC,KAAKJ,SAAW5B,ME9DpD,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QHKA,GACEyE,WAAY,CAAEC,cAAaA,GAC3B/C,MAAO,CAAC,YAER3B,KAAM,KAAM,CACVyD,QAAS,aACT5B,YAAY,IAGdI,UACEC,IAAAA,GAAW,WAAYC,IAClBH,KAAKH,YAAcG,KAAKH,WACxB,IAAID,EAAWI,KAAKZ,SAASgB,QAAQC,GAAMA,EAAEtC,IAAMoC,IAAe,GACjED,IAAAA,KAAa,WAAYN,MAG/BM,IAAAA,GAAW,QAAO,IAAOF,KAAKH,YAAa,MIzB/C,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,S,UCJW1B,MAAM,S,IACJA,MAAM,W,qDAHfC,EAAAA,EAAAA,IASM,OATmBD,MAAM,eAAgBoB,WAAQ,oBAAEf,EAAAA,UAAAA,EAAAA,YAAAA,KAAzD,EAEEN,EAAAA,EAAAA,GAMM,MANN,GAMM,EALJA,EAAAA,EAAAA,GAGM,MAHN,GAGM,EAFJA,EAAAA,EAAAA,GAA+D,QAAzDC,MAAM,QAASa,QAAK,oBAAEC,EAAAA,mBAAAA,EAAAA,qBAAAA,KAAmB,OAC/Cf,EAAAA,EAAAA,GAA0D,QAApDC,MAAM,QAASa,QAAK,oBAAEC,EAAAA,eAAAA,EAAAA,iBAAAA,KAAe,QAE7Cf,EAAAA,EAAAA,GAAkB,UAAAS,EAAAA,EAAAA,IAAbH,EAAAA,SAAO,MAPhB,aAAaA,EAAAA,cCEjB,MAAMmE,GAAavF,MAAAA,IACjB4E,QAAQC,IAAIlE,SACN6E,EAAAA,EAAAA,KAAUjF,EAAAA,EAAAA,IAAIJ,EAAAA,GAAI,QAASQ,KAGnC,UDUA,I,OAAA,CACEC,KAAM,KAAM,CACVyD,QAAS,4CACT5B,YAAY,EACZgD,OAAQ,KAGV/C,QAAS,CACPC,gBACEC,KAAKH,YAAc,GAGrBiD,oBACEH,GAAW3C,KAAK6C,QACbE,MAAKpB,IACJK,QAAQC,IAAI,kBACZjC,KAAKyB,QAAU,4BAEfzB,KAAKqC,QAAQpE,KAAK,iBAElBsE,YAAW,KACTvC,KAAKqC,QAAQW,OACbhD,KAAKH,YAAcG,KAAKH,aACvB,QAEJoD,OAAOC,GAAUlB,QAAQC,IAAIiB,OAIpCjD,UACEC,IAAAA,GAAW,aAAcC,IACpBH,KAAK6C,OAAS1C,EACdH,KAAKH,YAAcG,KAAKH,iBE3CjC,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UVyCA,IACG4C,WAAY,CACVU,cADU,EAEVC,WAFU,GAGVC,aAAYA,IAGfrF,KAAM,KAAM,CACVoB,SAAU,GACVkE,iBAAkBC,KAAKC,MAAMC,aAAaC,QAAQ,SAASC,QAE7D7D,QAAS,CACN8D,MAAMjC,GACJ,MAAMkC,EAAUlC,EAAEG,OAAOgC,YACnB3D,EAAgBwB,EAAEoC,cAAcC,WAAWC,aAAalG,GAE/C,WAAX8F,GAAsB3D,IAAAA,KAAa,aAAcC,GACtC,QAAX0D,GAAmB3D,IAAAA,KAAa,UAAWC,GAChC,UAAX0D,GAAqB3D,IAAAA,KAAa,YAAaC,KAKzD+D,WACGC,EAAAA,EAAAA,KAAW7G,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,UAAWI,GAAQA,EAAIyG,KAAK1G,SAAS2C,GAAKL,KAAKZ,SAASnB,KAAKoC,EAAErC,cWnE7F,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASqG,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://blog_web_spa_vue3/./src/services/getAllPosts.js","webpack://blog_web_spa_vue3/./src/components/AllPostsComponent.vue","webpack://blog_web_spa_vue3/./src/components/modalDialogs/DetailsDialog.vue","webpack://blog_web_spa_vue3/./src/components/modalDialogs/DetailsDialog.vue?8a0f","webpack://blog_web_spa_vue3/./src/components/modalDialogs/EditDialog.vue","webpack://blog_web_spa_vue3/./src/components/EditComponent.vue","webpack://blog_web_spa_vue3/./src/services/updatedPost.js","webpack://blog_web_spa_vue3/./src/components/EditComponent.vue?e94c","webpack://blog_web_spa_vue3/./src/components/modalDialogs/EditDialog.vue?e0db","webpack://blog_web_spa_vue3/./src/components/modalDialogs/DeleteDialog.vue","webpack://blog_web_spa_vue3/./src/services/deletePost.js","webpack://blog_web_spa_vue3/./src/components/modalDialogs/DeleteDialog.vue?85dc","webpack://blog_web_spa_vue3/./src/components/AllPostsComponent.vue?2162"],"sourcesContent":["import { db} from '@/services/sdk'                \nimport { collection, getDocs} from \"firebase/firestore\";  \n\nlet posts = []\n\nconst getAllPosts = async () => {\n  posts = []\n  const getPostsCollection = collection(db, \"posts\")                                   \n  const querySnapshot = await getDocs(getPostsCollection)   \n\n    querySnapshot.forEach((doc) => {\n      let allData = Object.assign({}, {id: doc.id }, doc.data())\n      posts.push(allData)\n  })\n\n   return posts\n}\n \n\nexport  {getAllPosts , posts} \n\n\n\n\n\n\n\n\n// import { collection, getDocs } from \"firebase/firestore\"; \n// import { db} from '@/services/sdk'\n\n// const getAllPosts = async () => {\n//   let posts = []\n//   const querySnapshot = await getDocs(collection(db, \"posts\"))\n//   querySnapshot.forEach((doc) => {\n//     // console.log(`${doc.id} => ${doc.data()}`)\n//     posts.push(doc.data())\n//   })\n//     return posts\n// }\n\n\n// export default getAllPosts","<template>\n  <main>\n    <section class=\"section\">\n      <h3>Posts</h3>\n      <hr />\n    </section>\n    <div class=\"posts-row\">\n      <!-- Post -->\n      <article\n        class=\"post\"\n        v-for=\"(post, id) in allPosts\"\n        :key=\"id\"\n        :id=\"post.id\"\n      >\n        <h1>{{ post.title }}</h1>\n        <h2>\n          <span>{{ post.category }}</span>\n        </h2>\n        <p>{{ post.content }}</p>\n\n   \n          <div v-if=\"currentUserEmail == post.creatorEmail\" class=\"buttons\">     \n             <a @click=\"onBtn\" class=\"details-button\">Details</a>\n             <a @click=\"onBtn\" class=\"edit-button\">Edit</a>\n             <a @click=\"onBtn\" class=\"delete-button\">Delete</a>\n          </div>\n          <div v-else class=\"buttons\">\n            <a @click=\"onBtn\" class=\"details-button\">Details</a>\n            <a @click=\"onBtn\" class=\"locked-edit\">Locked &#128274;</a>\n            <a @click=\"onBtn\" class=\"locked-delete\">Locked &#128274;</a>\n          </div>\n          \n      </article>\n    </div>\n      <details-dialog :allPosts=\"allPosts\"/>\n      <edit-dialog  :allPosts=\"allPosts\"/>\n      <delete-dialog />\n  </main>\n</template>\n\n<script>\nimport DetailsDialog from \"./modalDialogs/DetailsDialog\"\nimport EditDialog from \"./modalDialogs/EditDialog\"\nimport DeleteDialog from \"./modalDialogs/DeleteDialog\"\nimport emitter from 'tiny-emitter/instance'\n\nimport { db} from '@/services/sdk'      \nimport { collection, onSnapshot } from \"firebase/firestore\";\n\n\nexport default {\n   components: {\n     DetailsDialog,\n     EditDialog,\n     DeleteDialog\n\n   },\n  data: () => ({\n    allPosts: [],\n    currentUserEmail: JSON.parse(localStorage.getItem('auth')).email,  \n  }),\n  methods: {\n     onBtn(e){  \n       const btnName = e.target.textContent\n       const currentPostId = e.currentTarget.parentNode.offsetParent.id\n\n       if (btnName == 'Details') emitter.emit('on-details', currentPostId)\n       if (btnName == 'Edit') emitter.emit('on-edit', currentPostId)\n       if (btnName == 'Delete') emitter.emit('on-delete', currentPostId)\n      \n     }\n  },\n  \n created() {\n    onSnapshot(collection(db, \"posts\"), (doc) => doc.docs.forEach (x => this.allPosts.push(x.data())))\n  },\n\n};\n</script>\n\n\n\n<style scoped>\n\n.posts-row {\n  display: flex;\n  flex-wrap: wrap;\n  background: linear-gradient(rgba(9, 9, 11, 0.99), rgba(2, 10, 30, 0.91));\n  justify-content: space-around;\n}\n/* background-size: cover; */\n.section {\n  background: linear-gradient(rgba(69, 92, 159, 0.7), rgba(9, 26, 77, 0.91)),\n    url(\"../assets/images/posts/Blog-Posts.png\");\n  background-position: center;\n  height: 13vh;\n  width: 100%;\n}\n.section h3 {\n  margin: 0;\n  color: khaki;\n  font-size: 34px;\n  text-align: center;\n  padding-top: 0.3em;\n}\n\n.section hr {\n  border: 2px solid rgb(255, 102, 0);\n  border-radius: 100px;\n  width: 10%;\n  margin: 1% auto 3% auto;\n}\n\n.post {\n  position: relative;\n  word-wrap: break-word;\n  box-shadow: 1px 1px 5px gray;\n  padding: 20px;\n  border-radius: 5px;\n  min-width: 20em;\n  height: 70%;\n  margin: 30px 20px;\n  background: wheat;\n  max-width: 20em;\n  min-height: 16em;\n  max-height: 16em;\n}\n\n/* title */\n.post h1 {\n  font-size: 24px;\n  text-align: center;\n  color: rgb(255, 102, 0);\n  margin-bottom: 20px;\n}\n/* \ncategory */\n.post h2 {\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n/* content */\n.post p {\n  margin: 1% 0;\n  padding: 1em;\n}\n\n.post span {\n  color: grey;\n  text-decoration: underline;\n   margin-left: 1em;\n}\n\n.posts-row {\n  height: 100%;\n  display: flex;\n  /* flex-wrap: nowrap;\n  overflow-x: scroll; */\n}\n\n.buttons {\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  top: 15em;\n}\n\n.details-button,\n.delete-button,\n.edit-button {\n  border-radius: 5px;\n  text-decoration: none;\n  text-align: center;\n  bottom: 20px;\n  font-size: 18px;\n  border: none;\n  background: rgb(255, 102, 0);\n  color: #fff;\n  /* margin-right:1em; */\n  padding: 10px;\n  width: 80px;\n}\n\n.details-button {\n  right: 0px;\n  background: rgb(145, 165, 33);\n}\n\n.edit-button {\n  left: 30px;\n  background: rgb(11, 109, 207);\n  margin-left: 10px;\n}\n\n.delete-button {\n  right: 0px;\n  background: red;\n  margin-left: 10px;\n}\n\n.edit-button,\n.delete-button,\n.details-button:hover {\n  cursor: pointer;\n}\n\n.locked-edit {\n  color: white;\n  left: 30px;\n  background: rgb(11, 109, 207);\n  margin-left: 0px;\n  justify-content: initial;\n  padding: 11px;\n  margin-left: 10px;\n  border-radius: 5px;\n}\n\n.locked-delete {\n  color: white;\n  left: 30px;\n  background: red;\n  margin-left: 0px;\n  justify-content: initial;\n  padding: 11px;\n  margin-left: 10px;\n  border-radius: 5px;\n}\n\n.locked-edit \n.locked-delete:hover {\n  cursor: not-allowed;\n}\n\n\n</style>\n\n\n","<template>\n  <div v-show=\"showDialog\" class=\"header-modal\" @onDialog=\"odDialog\">\n    <!-- Modal content -->\n\n    <div class=\"modal\">\n      <div class=\"buttons\">\n        <span class=\"close\" @click=\"onCloseDialog\">&#10006;</span>\n      </div>\n      <section>\n        <div><span>Title:</span> {{ postData.title }}</div>\n        <div><span>Category:</span> {{ postData.category }}</div>\n\n        <div><span>Content:</span> {{ postData.content }}</div>\n      </section>\n\n      <!-- <details-dialog /> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from \"tiny-emitter/instance\";\n\nexport default {\n  props: [\"allPosts\"],\n\n  data: () => ({\n    postData: \"\",\n    showDialog: false,\n  }),\n  methods: {\n    onCloseDialog() {\n      this.showDialog = false;\n    },\n  },\n\n  mounted() {\n    emitter.on(\"on-details\", (currentPostId) => {\n      this.showDialog = !this.showDialog;\n      this.postData = this.allPosts.filter((x) => x.id == currentPostId)[0];\n\n      //  const {title, category ,content}  =\n      //  console.log(title, category ,content);\n    });\n  },\n};\n</script>\n\n<style scoped>\n.header-modal {\n  /* The Modal (background) */\n\n  /* display: none;  Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  padding-top: 100px; /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0, 0, 0); /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\n}\n\n/* Modal Content/Box */\n.modal {\n  display: block;\n  color: aliceblue;\n  font-weight: bold;\n  margin: 15% auto; /* 15% from the top and centered */\n  padding: 20px;\n  border: 1px solid #888;\n  border-radius: 12px;\n  width: 34%;\n  height: 12em;\n  background: linear-gradient(rgb(71, 57, 136), #131313);\n  /* background: linear-gradient(rgb(138, 29, 29), blue); */\n}\n\n.modal div {\n  margin: 1em auto;\n  color: khaki;\n}\n\n.modal span {\n  margin-right: 4px;\n  color: #8ce7f0;\n}\n\n/* The Close Button */\n\n.buttons {\n  float: right;\n}\n\n.agree {\n  font-size: 30px;\n  margin-right: 20px;\n  margin-bottom: 2px;\n}\n\nspan.close:nth-child(1) {\n  font-size: 36px;\n  color: red;\n  position: relative;\n  top: -0.5em;\n}\n\n.agree:hover,\n.close:hover,\n.close:focus {\n  text-decoration: none;\n  cursor: pointer;\n}\n</style>","import { render } from \"./DetailsDialog.vue?vue&type=template&id=7cd02d26&scoped=true\"\nimport script from \"./DetailsDialog.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsDialog.vue?vue&type=script&lang=js\"\n\nimport \"./DetailsDialog.vue?vue&type=style&index=0&id=7cd02d26&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/blog_web_spa_vue3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7cd02d26\"]])\n\nexport default __exports__","<template>\n    <div v-show=\"showDialog\" class=\"header-modal\" >\n      <!-- Modal content -->\n      <div class=\"modal\">\n       <edit-component />        \n      </div>\n    </div>\n</template>\n\n<script>\n\nimport emitter from 'tiny-emitter/instance'\nimport EditComponent from '../EditComponent.vue';\n\nexport default {\n  components: { EditComponent },\n  props: [\"allPosts\"],\n\n  data: () => ({\n    message: 'Edit post?',\n    showDialog: false,\n  }),\n\n  mounted(){\n    emitter.on('on-edit', (currentPostId) => {\n         this.showDialog = !this.showDialog\n         let postData = this.allPosts.filter((x) => x.id == currentPostId)[0];\n          emitter.emit('postData', postData ) \n     })\n\n    emitter.on('exit',() =>  this.showDialog = false )    \n  }\n\n};\n</script>\n\n\n\n\n","\n<template>\n  <main id=\"main-blog\" >\n    <section class=\"first-section\">\n        <section class=\"background-container\">\n            <form class=\"edit-form\" @submit.prevent=\"createdSubmit\">\n                <h1>Edit Post</h1>\n                <label for=\"title\">Title</label>\n                <input type=\"text\" name=\"title\" placeholder=\"Required, minlength 2\" :value=\"postData.title\">\n                <label for=\"category\">Category</label>\n                <input type=\"text\" name=\"category\" placeholder=\"Required, minlength 2\" :value=\"postData.category\">\n                <label for=\"content\">Content</label>\n                <textarea name=\"content\" cols=\"30\" rows=\"7\"  placeholder=\"Required, maxlength 160\"\n                 :value=\"postData.content\" > </textarea>\n                <button>Create</button>\n                <a @click=\"onBtnExit\"><span id=\"close-btn\"  >&#10006;</span></a>\n                <div class=\"message\"> <h2>{{message}}</h2></div> \n            </form>\n          </section> \n    </section>\n    \n</main>\n</template>\n\n<script>\nimport emitter from 'tiny-emitter/instance'\nimport updatePost from '@/services//updatedPost'\n\n\nexport default {\n \n\n  data: () => ({\n   postData: [],\n   message: ''\n  }),\n\n  methods:{\n   createdSubmit(e){\n    const form = new FormData(e.target)\n    const title = form.get('title')\n    const category = form.get('category')\n    const content = form.get('content')\n    // const creatorEmail = JSON.parse(localStorage.getItem('auth')).email\n\n     console.log('Click error not fill fields');\n     this.message = 'The fields are not fill correct!'\n\n    if (title && category && content && (content.length > 2 && content.length <= 160)) {\n      console.log('Success edit post', title); \n      this.message = `Success edit post - ${title}.`\n      updatePost( this.postData.id ,{title, category ,content})\n      e.target.reset()\n      this.$router.push({path: '/posts/edit'})\n      setTimeout(() => {\n        this.$router.push('/posts')\n      }, 3000);\n    }\n    setTimeout(() => this.message = '' , 2000)\n      \n   },\n\n    onBtnExit(){\n      emitter.emit('exit')     \n    },\n\n  },\n\n  mounted(){\n    emitter.on('postData', data =>  this.postData = data) \n  }\n \n}\n</script>\n\n\n<style scoped >\n\n.message{\n  margin-top:0em;\n}\n\n.message h2{\n  color: #e05b27;\n  text-align: center;\n  font-size: larger;\n  margin-top: 1em;\n  margin: 0;\n  margin-top: 0px;  \n  margin-top: 12px;\n}\n\n\n.background-container {\n  flex: 1;\n  background: hsla(0, 0%, 13%, 0.384);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 0vh;\n}\n\n.background-container  h1 {\n  color: rgb(39, 36, 36);\n  font-size: 50px;\n}\n\n.background-container a {\n  display: inline-block;\n  padding: 2px 10px;\n  margin: 50px 20px;\n  transition: transform 0.3s;\n  border:1px solid rgb(233, 6, 6);\n  border-radius: 12px;\n      /* box-sizing: border-box; */\n}\n#close-btn {\n  font-size: 30px;\n  border: none;  \n  color: red;\n  \n}\n#close-btn:hover {\n  transform: none;\n  cursor: pointer;\n}\n\n\n.first-section form,\n.edit-posts form {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  background: #fff;\n  width: 450px;\n  padding: 30px;\n  margin-top: 90px;\n  border-radius: 5px;\n}\n\n.edit-posts form {\n  margin: 0;\n  position: relative;\n  height: 90vh;\n}\n\n/*title */\n.first-section form h1{\n  align-self: center;\n  font-size: 26px;\n  margin: 10px 0 15px;\n  border-bottom: 3px dotted rgb(11, 109, 207);\n  color: rgb(11, 109, 207);\n}\n\n.first-section form input,\n.first-section form textarea {\n  border: none;\n  background: rgb(240, 240, 240);\n  font-size: 16px;\n  padding: 10px;\n  resize: none;\n}\n\n.first-section form label,\n.edit-posts form label {\n  margin: 10px 0;\n}\n\n\n.edit-form {\n  position: fixed;\n  z-index: 100;\n  box-shadow: 1px 1px 5px gray;\n  top: 8%;\n  animation: appear 1 0.5s;\n}\n\n.edit-form a {\n  color: black;\n  position: absolute;\n  top: -36px;\n  right: -10px;\n}\n\n\n.edit-posts a:hover {\n  transform: none;\n}\n\n\nimg {\n  width: 25px;\n  position: absolute;\n  top: 10px;\n  right: 25px;\n}\n\nbutton {\n  font-size: 18px;\n  padding: 8px 10px;\n background: rgb(11, 109, 207);\n  color: #fff;\n  margin-top: 30px;\n  border: double;\n  border-radius: 5px;\n}\n\nbutton:hover{\n  cursor:pointer;\n  background: rgb(11, 109, 207);\n}\n</style>\n","import { db } from '@/services/sdk'    \nimport { doc, updateDoc } from \"firebase/firestore\";\n\n\nconst editPost = async (key, objectData) => {\n  const editDone = doc(db, \"posts\", key)\n  await updateDoc(editDone, objectData)\n}\n\n\n\n\nexport default editPost","import { render } from \"./EditComponent.vue?vue&type=template&id=ddbe7638&scoped=true\"\nimport script from \"./EditComponent.vue?vue&type=script&lang=js\"\nexport * from \"./EditComponent.vue?vue&type=script&lang=js\"\n\nimport \"./EditComponent.vue?vue&type=style&index=0&id=ddbe7638&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/blog_web_spa_vue3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ddbe7638\"]])\n\nexport default __exports__","import { render } from \"./EditDialog.vue?vue&type=template&id=6309b345\"\nimport script from \"./EditDialog.vue?vue&type=script&lang=js\"\nexport * from \"./EditDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/blog_web_spa_vue3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div v-show=\"showDialog\" class=\"header-modal\" @onDialog=\"odDialog\" >\n      <!-- Modal content -->\n      <div class=\"modal\">\n        <div class=\"buttons\">\n          <span class=\"agree\" @click=\"onAgreeDeletePost\"> &#x2705;</span>\n          <span class=\"close\" @click=\"onCloseDialog\">&#10006;</span>\n        </div>\n        <p>{{message}}</p>\n      </div>\n    </div>\n</template>\n\n<script>\nimport deletePost from \"@/services/deletePost\";\nimport { getAllPosts, posts } from \"@/services/getAllPosts\"\nimport emitter from 'tiny-emitter/instance'\n\nexport default {\n  data: () => ({\n    message: 'Are you sure to want to delete this post?',\n    showDialog: false,\n    postId: '',\n\n  }),\n  methods: {\n    onCloseDialog() {\n      this.showDialog =  false\n    },\n\n    onAgreeDeletePost() {\n      deletePost(this.postId)\n        .then(e => {\n          console.log(\"Delete Success\")\n          this.message = \"Post was DELETED Success!\"\n           \n          this.$router.push('/posts/delete')\n\n          setTimeout(() => {\n            this.$router.back()\n            this.showDialog = !this.showDialog\n          }, 3000); \n        })\n        .catch((error) => console.log(error));\n    },\n  },\n\n  mounted(){\n    emitter.on('on-delete', (currentPostId) => {\n         this.postId = currentPostId\n         this.showDialog = !this.showDialog\n     })\n  }\n};\n</script>\n\n<style scoped>\n.header-modal {\n  /* The Modal (background) */\n\n  /* display: none;  Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  padding-top: 100px; /* Location of the box */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  overflow: auto; /* Enable scroll if needed */\n  background-color: rgb(0, 0, 0); /* Fallback color */\n  background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */\n}\n\n/* Modal Content/Box */\n.modal {\n  display: block;\n  color: aliceblue;\n  font-weight: bold;\n  margin: 15% auto; /* 15% from the top and centered */\n  padding: 20px;\n  border: 1px solid #888;\n  border-radius: 12px;\n  width: 30%; /* Could be more or less, depending on screen size */\n  height: 4em;\n  background: linear-gradient(rgb(138, 29, 29), blue);\n}\n\n/* The Close Button */\n\n.buttons {\n  float: right;\n}\n\n.agree {\n  font-size: 30px;\n  margin-right: 20px;\n  margin-bottom: 2px;\n}\n\n.close {\n  font-size: 38px;\n  color: red;\n  position: relative;\n  top: 3px;\n}\n\n.agree:hover,\n.close:hover,\n.close:focus {\n  text-decoration: none;\n  cursor: pointer;\n}\n</style>","import { db} from '@/services/sdk'     \nimport { doc, deleteDoc} from \"firebase/firestore\";\n\nconst deletePost = async (id) => {\n  console.log(id);\n  await deleteDoc(doc(db, \"posts\", id))\n}\n\nexport default deletePost","import { render } from \"./DeleteDialog.vue?vue&type=template&id=67026560&scoped=true\"\nimport script from \"./DeleteDialog.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteDialog.vue?vue&type=script&lang=js\"\n\nimport \"./DeleteDialog.vue?vue&type=style&index=0&id=67026560&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/blog_web_spa_vue3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-67026560\"]])\n\nexport default __exports__","import { render } from \"./AllPostsComponent.vue?vue&type=template&id=d0532c38&scoped=true\"\nimport script from \"./AllPostsComponent.vue?vue&type=script&lang=js\"\nexport * from \"./AllPostsComponent.vue?vue&type=script&lang=js\"\n\nimport \"./AllPostsComponent.vue?vue&type=style&index=0&id=d0532c38&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/subtotal/CODE/NEW COURSES 11.2020/VUE SPA-Projects/blog_web_spa_vue3/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d0532c38\"]])\n\nexport default __exports__"],"names":["posts","getAllPosts","async","getPostsCollection","collection","db","querySnapshot","getDocs","forEach","doc","allData","Object","assign","id","data","push","_createElementVNode","class","_createElementBlock","_hoisted_1","_Fragment","_renderList","_ctx","post","key","_toDisplayString","title","category","content","creatorEmail","onClick","$options","_createVNode","_component_details_dialog","allPosts","_component_edit_dialog","_component_delete_dialog","onOnDialog","_hoisted_3","_hoisted_4","_hoisted_5","props","postData","showDialog","methods","onCloseDialog","this","mounted","emitter","currentPostId","filter","x","__exports__","_component_edit_component","for","_hoisted_12","onSubmit","type","name","placeholder","value","_hoisted_7","_hoisted_9","cols","rows","_hoisted_10","_hoisted_11","editPost","objectData","editDone","updateDoc","message","createdSubmit","e","form","FormData","target","get","console","log","length","updatePost","reset","$router","path","setTimeout","onBtnExit","components","EditComponent","deletePost","deleteDoc","postId","onAgreeDeletePost","then","back","catch","error","DetailsDialog","EditDialog","DeleteDialog","currentUserEmail","JSON","parse","localStorage","getItem","email","onBtn","btnName","textContent","currentTarget","parentNode","offsetParent","created","onSnapshot","docs","render"],"sourceRoot":""}