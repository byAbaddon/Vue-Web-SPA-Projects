import{aq as ne,ar as oe,p as ie,d as K,as as de,at as O,j as t,E as j,au as re,I as N,G as W,a2 as H,av as q,aw as ce,O as ue,ax as ve,H as X,J as me,ay as _e,L as fe,M as he,N as pe,az as ke,m as ge,P as ye,R as be,aA as Ve,S as xe,T as Ce,U as Z,X as Se,aB as Ie,Y as Te,Z as Ae,_ as De,aC as we,aD as z,aE as Be,V as Pe,aF as Ee,a1 as $e,aG as Le,aH as Re,aI as ze,Q as Ne,aJ as Oe,x as B,aK as Fe,aL as G,aM as Me,aN as Ue,aO as Ye,aP as He,u as je,b as qe,aQ as Ge,f as T,g as A,i as u,e as o,t as D,w as l,y as w,aR as J,B as n,C as P,aS as Y}from"./index.a0b5c28b.js";import{u as Je}from"./treks.66b7df20.js";import{u as Qe}from"./updateData.0e278640.js";import{V as Q}from"./VAlert.87e711d4.js";const Ke=async e=>{await ne(oe(ie,"treks",e))};const ee=K({name:"VCardActions",setup(e,b){let{slots:s}=b;return de({VBtn:{variant:"text"}}),O(()=>{var a;return t("div",{class:"v-card-actions"},[(a=s.default)==null?void 0:a.call(s)])}),{}}}),We=j("v-card-subtitle"),Xe=j("v-card-title"),Ze=re({name:"VCardItem",props:{appendAvatar:String,appendIcon:N,prependAvatar:String,prependIcon:N,subtitle:String,title:String,...W()},setup(e,b){let{slots:s}=b;return O(()=>{var a,v,V,k,i,g,d,m,_;const y=!!(e.prependAvatar||e.prependIcon||s.prepend),f=!!(e.appendAvatar||e.appendIcon||s.append),h=!!(e.title||s.title),r=!!(e.subtitle||s.subtitle);return t("div",{class:"v-card-item"},[y&&t(H,{key:"prepend",defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},{default:()=>[t("div",{class:"v-card-item__prepend"},[(a=(v=s.prepend)==null?void 0:v.call(s))!=null?a:t(q,null,null)])]}),t("div",{class:"v-card-item__content"},[h&&t(Xe,{key:"title"},{default:()=>[(V=(k=s.title)==null?void 0:k.call(s))!=null?V:e.title]}),r&&t(We,{key:"subtitle"},{default:()=>[(i=(g=s.subtitle)==null?void 0:g.call(s))!=null?i:e.subtitle]}),(d=s.default)==null?void 0:d.call(s)]),f&&t(H,{key:"append",defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},{default:()=>[t("div",{class:"v-card-item__append"},[(m=(_=s.append)==null?void 0:_.call(s))!=null?m:t(q,null,null)])]})])}),{}}}),te=j("v-card-text"),et=K({name:"VCard",directives:{Ripple:ce},props:{appendAvatar:String,appendIcon:N,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:Boolean,prependAvatar:String,prependIcon:N,ripple:Boolean,subtitle:String,text:String,title:String,...ue(),...ve(),...W(),...X(),...me(),..._e(),...fe(),...he(),...pe(),...ke(),...ge(),...ye({variant:"elevated"})},setup(e,b){let{attrs:s,slots:a}=b;const{themeClasses:v}=be(e),{borderClasses:V}=Ve(e),{colorClasses:k,colorStyles:i,variantClasses:g}=xe(e),{densityClasses:d}=Ce(e),{dimensionStyles:m}=Z(e),{elevationClasses:_}=Se(e),{loaderClasses:y}=Ie(e),{locationStyles:f}=Te(e),{positionClasses:h}=Ae(e),{roundedClasses:r}=De(e),p=we(e,s);return O(()=>{var c,E,S,$,L;const F=p.isLink.value?"a":e.tag,M=!!(a.title||e.title),U=!!(a.subtitle||e.subtitle),x=M||U,I=!!(a.append||e.appendAvatar||e.appendIcon),C=!!(a.prepend||e.prependAvatar||e.prependIcon),ae=!!(a.image||e.image),se=x||C||I,le=!!(a.text||e.text),R=!e.disabled&&(p.isClickable.value||e.link);return z(t(F,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":R},v.value,V.value,k.value,d.value,_.value,y.value,h.value,r.value,g.value],style:[i.value,m.value,f.value],href:p.href.value,onClick:R&&p.navigate},{default:()=>[ae&&t(H,{key:"image",defaults:{VImg:{cover:!0,src:e.image}}},{default:()=>[t("div",{class:"v-card__image"},[(c=(E=a.image)==null?void 0:E.call(a))!=null?c:t(Pe,null,null)])]}),t(Ee,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),se&&t(Ze,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),le&&t(te,{key:"text"},{default:()=>[(S=($=a.text)==null?void 0:$.call(a))!=null?S:e.text]}),(L=a.default)==null?void 0:L.call(a),a.actions&&t(ee,null,{default:a.actions}),$e(R,"v-card")]}),[[Be("ripple"),R]])}),{}}});const tt=Le()({name:"VDialog",inheritAttrs:!1,props:{fullscreen:Boolean,origin:{type:String,default:"center center"},retainFocus:{type:Boolean,default:!0},scrollable:Boolean,modelValue:Boolean,...X({width:"auto"}),...Re({transition:{component:ze}})},emits:{"update:modelValue":e=>!0},setup(e,b){let{attrs:s,slots:a}=b;const v=Ne(e,"modelValue"),{dimensionStyles:V}=Z(e),{scopeId:k}=Oe(),i=B();function g(d){var m,_;const y=d.relatedTarget,f=d.target;if(y!==f&&(m=i.value)!=null&&m.contentEl&&(_=i.value)!=null&&_.globalTop&&![document,i.value.contentEl].includes(f)&&!i.value.contentEl.contains(f)){const h=[...i.value.contentEl.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')].filter(c=>!c.hasAttribute("disabled"));if(!h.length)return;const r=h[0],p=h[h.length-1];y===r?p.focus():r.focus()}}return Fe&&G(()=>v.value&&e.retainFocus,d=>{d?document.addEventListener("focusin",g):document.removeEventListener("focusin",g)},{immediate:!0}),G(v,async d=>{if(await He(),d){var m;(m=i.value.contentEl)==null||m.focus({preventScroll:!0})}else{var _;(_=i.value.activatorEl)==null||_.focus({preventScroll:!0})}}),O(()=>t(Ye,Ue({modelValue:v.value,"onUpdate:modelValue":d=>v.value=d,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable}],style:V.value,transition:e.transition,ref:i,"aria-role":"dialog","aria-modal":"true",activatorProps:{"aria-haspopup":"dialog","aria-expanded":String(v.value)},"z-index":2400},k,s),{default:a.default,activator:a.activator})),Me({},i)}}),at={style:{width:"72%","min-width":"23em",margin:"0 auto","margin-top":"1em","margin-bottom":"2em"}},st={class:"row single-trek-details text-center"},lt={class:"col-md-12 text-center overflow-hidden"},nt=["src"],ot={class:"overflow-hidden my-3 p-3"},it={class:"display-5"},dt=u("p",{class:"infoType"},"Description:",-1),rt={class:"trek-description"},ct={class:"infoType"},ut=n(" Date: "),vt={class:"infoType"},mt=n(" Likes: "),_t={class:"infoType"},ft=n(" Organizer: "),ht={key:0,class:"buttons-together"},pt={key:0},kt=n(" Edit the trek "),gt=n(" mdi-hammer-screwdriver"),yt=n(" Delete the trek "),bt=n(" mdi-close-circle "),Vt=n(" Exit "),xt=n(" mdi-exit-run"),Ct={key:1},St=n("Thank you for like!"),It={key:1},Tt={key:0},At=n(" Like "),Dt=n(" mdi-heart"),wt=n(" Exit "),Bt=n(" mdi-exit-run"),Pt={key:1},Et={class:"text-center"},$t=n("Yes"),Lt=n("No"),Rt=n("mdi-trash-can-outline"),Mt={__name:"DetailsTrekView",setup(e){const b=Je(),s=je(),a=qe(),v=Ge().params.id;let{organizer:V,id:k,imageURL:i,date:g,description:d,location:m,owner:_,likes:y,voters:f}=b.allTreks.find(x=>x.id==v),h=B(y),r=B(""),p=B(""),c=B(!1),E=B("Are you sure to want to delete this trek ?"),S=B(!0);const $=()=>a.go(-1),L=x=>a.push({name:"editTrek",params:{id:k}}),F=()=>c.value=!0,M=()=>{Ke(k).then(()=>{console.log("The trek was deleted success"),E.value="The trek was deleted success!",S.value=!1,setTimeout(()=>{c.value=!1,a.push("/")},2e3)}).catch(x=>console.log(x.error))},U=x=>{f.includes(s.data.uid)?(r.value="error",p.value="You already liked this trek!",console.log("You already liked this trek!")):(r.value="success",p.value="Thank for you like!",h.value++,y+=1,f.push(s.data.uid),Qe(v,{organizer:V,id:k,imageURL:i,date:g,description:d,location:m,owner:_,likes:y,voters:f}).then(C=>console.log("Success update")).catch(C=>console.log(C.error))),setTimeout(()=>{r.value=p.value=""},2e3)};return(x,I)=>(T(),A("div",at,[u("div",st,[u("div",lt,[u("img",{class:"details-img",style:{"border-radius":"6px","min-width":"10em"},src:o(i)},null,8,nt),u("div",ot,[u("h2",it,D(o(m)),1),dt,u("p",rt,D(o(d)),1),u("p",ct,[ut,u("span",null,D(o(g)),1)]),u("p",vt,[mt,u("span",null,D(o(h)),1)]),u("p",_t,[ft,u("span",null,D(o(_)),1)])]),o(V)==o(s).data.uid?(T(),A("div",ht,[o(r)?(T(),A("div",Ct,[t(Q,{type:o(r)},{default:l(()=>[St]),_:1},8,["type"])])):(T(),A("div",pt,[t(w,{onClick:L,variant:"outlined"},{default:l(()=>[kt,t(P,{color:"black-darken-3",size:"18"},{default:l(()=>[gt]),_:1})]),_:1}),t(w,{class:"mx-4 my-2",onClick:F,variant:"outlined"},{default:l(()=>[yt,t(P,{color:"red-darken-3",size:"18"},{default:l(()=>[bt]),_:1})]),_:1}),t(w,{onClick:$,variant:"outlined"},{default:l(()=>[Vt,t(P,{color:"blue-darken-3",size:"18"},{default:l(()=>[xt]),_:1})]),_:1})]))])):(T(),A("div",It,[o(r)?(T(),A("div",Pt,[t(Q,{type:o(r)},{default:l(()=>[n(D(o(p)),1)]),_:1},8,["type"])])):(T(),A("div",Tt,[t(w,{class:"mr-1",onClick:U,variant:"outlined"},{default:l(()=>[At,t(P,{color:"yellow-darken-3",size:"18"},{default:l(()=>[Dt]),_:1})]),_:1}),t(w,{onClick:$,variant:"outlined"},{default:l(()=>[wt,t(P,{color:"blue-darken-3",size:"18"},{default:l(()=>[Bt]),_:1})]),_:1})]))]))])]),u("div",Et,[t(tt,{transition:"dialog-top-transition",modelValue:o(c),"onUpdate:modelValue":I[1]||(I[1]=C=>J(c)?c.value=C:c=C),activator:"parent"},{default:l(()=>[t(et,null,{default:l(()=>[t(te,{class:"bg-black text-white font-italic"},{default:l(()=>[n(D(o(E)),1)]),_:1}),t(ee,{class:"bg-black d-flex justify-space-around"},{default:l(()=>[z(t(w,{variant:"flat",color:"green",onClick:M},{default:l(()=>[$t]),_:1},512),[[Y,o(S)]]),z(t(w,{variant:"flat",color:"error",onClick:I[0]||(I[0]=C=>J(c)?c.value=!1:c=!1)},{default:l(()=>[Lt]),_:1},512),[[Y,o(S)]]),z(t(P,{color:"red"},{default:l(()=>[Rt]),_:1},512),[[Y,!o(S)]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}};export{Mt as default};
