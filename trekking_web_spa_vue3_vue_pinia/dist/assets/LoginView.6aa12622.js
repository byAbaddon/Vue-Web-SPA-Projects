import{v as x,u as E,b as B,x as S,o as V,r as N,f as g,g as p,i as e,j as h,w as i,e as f,y as P,n as L,z as U,A as D,k as I,B as c,C as T}from"./index.a0b5c28b.js";import{s as C,g as v}from"./index-90ebcfae.7c188b35.js";import{V as F}from"./VAlert.87e711d4.js";const A=(u,t)=>C(v(),u,t).then(s=>{const{uid:d,email:a,displayName:r,photoURL:n}=s.user;return console.log(`Success login!
You id: ${d}
You email: ${a}`),localStorage.setItem("auth",JSON.stringify({uid:d,email:a,displayName:r,photoURL:n})),"success"}).catch(s=>[s.message]),z=async()=>{const t=await v().currentUser;if(t!==null)return[t.displayName,t.photoURL]},R=["onSubmit"],$=c("mdi-window-close"),j=I('<div class="text-center"><h1 class="h3 mb-3 font-weight-normal">Login</h1></div><div class="form-label-group"><input autofocus type="email" id="loginEmail" name="loginEmail" class="form-control" placeholder="Email" required value="koko@abv.bg"><label for="loginEmail">Email</label></div><div class="form-label-group"><input type="password" id="loginPassword" name="loginPassword" class="form-control" placeholder="Password" minlength="6" required value="111111"><label for="loginPassword">Password</label></div>',3),q={key:0,class:"btn btn-lg btn-dark btn-block",type:"submit"},M=e("p",null,"Sign In",-1),W=[M],Y=c("'Error! Fail to login. Wrong email or password...'"),J={class:"text-center mb-4"},O={class:"alreadyUser"},Z=c(" Don't have account? Then just "),G=e("a",{href:"#"},"Sign-Up",-1),H=c("! "),K=e("p",{class:"mt-5 mb-3 text-muted text-center"}," \xA9 The Trekking Zone - 2022. ",-1),te={__name:"LoginView",setup(u){const{mobile:t,name:s}=x(),a=E().login,r=B(),n=S(!0);V(()=>{setTimeout(()=>{const o=document.getElementById("loginForm");o!=null&&o.reset()},500)});const b=o=>{const l=o.target[1].value,m=o.target[2].value;A(l,m).then(_=>{_=="success"?z().then(w=>{const[k,y]=w;console.log(k,y),r.push("/"),a()}):(n.value=!1,setTimeout(()=>{document.getElementById("loginFrom").reset(),n.value=!0},2e3))})};return(o,l)=>{const m=N("router-link");return g(),p("div",{style:{width:"70%","min-width":"20em",margin:"0 auto","margin-top":"2em"},class:D(f(s)=="xs"?"w-90":"w-80")},[e("form",{id:"loginFrom",onSubmit:U(b,["prevent"])},[h(P,{class:"float-end",variant:"text",onClick:l[0]||(l[0]=_=>f(r).push("/"))},{default:i(()=>[h(T,{color:"red",size:"30"},{default:i(()=>[$]),_:1})]),_:1}),j,e("div",null,[n.value?(g(),p("button",q,W)):(g(),L(F,{key:1,type:"error"},{default:i(()=>[Y]),_:1}))]),e("div",J,[e("p",O,[Z,h(m,{to:"/register"},{default:i(()=>[G,H]),_:1})])]),K],40,R)],2)}}};export{te as default};
